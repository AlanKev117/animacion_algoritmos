<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto Algoritmos</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="./css/bootstrap-reboot.min.css">
    <link rel="stylesheet" href="./css/main.css">
  </head>
  <body>
    <!--MODAL TUTORIAL-->
    <div class="modal fade" id="tutorialModal" tabindex="-1" role="dialog" aria-labelledby="tutorialModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title" id="exampleModalLabel">Tutorial</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div id="tutorialCanvasDFS">
                <h5>DFS (Depth First Search)</h5>
                <p>
                  Es un algoritmo de búsqueda utilizada para recorrer todos los nodos de un grafo o árbol de 
                  manera ordenada, pero no uniforme. Los niveles de cada nodo no son importantes. 
                  Este consiste en ir expandiendo cada uno de los nodos, de forma recurrente, en un camino en concreto.
                  <br><br>
                  Cuando ya no hay más camino, regresa, en donde se quedo por explorar. Repite el mismo proceso hasta que
                  ya no hay elementos que explorar.
                </p>
                <br>
                <b>Pasos DFS:</b><br>
                <ul>
                  <li>
                  Hacemos el nodo inicial como el actual marcándolo
                  <img src="DFS/DFS1.PNG">
                  </li>
                  <li>Mientras existan celdas sin visitar hacemos:</li>
                    <ul>
                      <li>Si la celda actual tiene algún vecino que no ha sido visitado:</li>
                        <ul>
                          <li>
                            Escogemos aleatoriamente uno de los vecinos sin visitar
                          </li>
                        </ul>
                    </ul>
                </ul>
                <img src="DFS/DFS2.PNG">
                <ul>
                  <ul>
                    <ul>
                      <li>
                        Agregamos la celda actual en una pila
                      </li>
                    </ul>
                  </ul>
                </ul>
                <img src="DFS/DFS3.PNG">
                <ul>
                  <ul>
                    <ul>
                      <li>
                        Removemos la pared entre la celda actual y el vecino que se selecciono
                      </li>
                    </ul>
                  </ul>
                </ul>
                <img src="DFS/DFS4.PNG">
                <ul>
                  <ul>
                    <ul>
                      <li>
                        Cambiamos la posición de la celda actual al vecino seleccionado, y lo marcamos como visitado
                      </li>
                    </ul>
                  </ul>
                </ul>
                <img src="DFS/DFS5.PNG">
                <p>Así va a seguir hasta que se cumpla el siguiente caso</p>
                <ul>
                  <ul>
                    <li>
                      Si la pila no está vacía:
                      <ul>
                        <li>
                          Sacamos el ultimo valor agregado a la pila y lo hacemos la celda actual
                        </li>
                      </ul>
                    </li>
                  </ul>
                </ul>
                <img src="DFS/DFS6.PNG">
                <ul>
                    <ul>
                        <ul>
                          <li>
                            Si en el camino se encuentra un vecino sin visitar, se hacen los pasos ya explicados
                          </li>
                        </ul>
                    </ul>
                    <li>
                        Al final, termina cuando vuelve a la 1er celda y ya no hay mas elementos en la pila
                    </li>
                </ul>
                <img src="DFS/DFS7.PNG">
                <b>Ejemplo:</b>
                <video width="400" height="300" controls>
                  <source src="DFS/DFS.mp4" type="video/mp4">
                </video>
              </div>
              <div id="tutorialCanvasBFS" hidden>
                <h5>BFS (Breadth First Search)</h5>
                <p>
                  El algoritmo BFS nos sirve para encontrar el camino más corto entre dos nodos de un grafo
                  no ponderado. Lo hace por niveles del grafo o del árbol, ya que para cada nodo del grafo se 
                  pregunta si alguno de sus hijos es el nodo por el que buscamos; si no lo es, se agrega 
                  a una fila que simboliza los nodos cuyos hijos debemos revisar hasta que alguno sea el buscado.<br><br>

                  La fila (queue) nos garantiza que accedemos al siguiente nivel del grafo (desde el nodo en el que
                  empezamos). El algoritmo termina cuando se encuentra el nodo buscado.
                </p>
                <br>
                <b>Pasos BFS:</b><br>
                <p>
                  Para este algortimo nos dan como datos la celda inicial y la celda objetivo, para esto ya tenemos 
                  el laberinto generado y con estos datos se realiza lo siguiente: 
                </p>
                <ul>
                  <li>
                      Empezamos recorriendo los vecinos de la celda inicial
                  </li>
                </ul>
                <img src="BFS/BFS1.PNG">
                <ul>
                  <li>
                      Los vecinos los vamos agregando a una fila y se marca como visitado
                  </li>
                </ul>
                <img src="BFS/BFS2.PNG">
                <ul>
                  <li>
                      Si existe una separación, estos caminos se van recorriendo al mismo tiempo
                  </li>
                </ul>
                <img src="BFS/BFS3.PNG">
                <ul>
                  <li>
                      Cuando se llega a la celda objetivo, se marca el camino para llegar a este y las celdas que se visitaron
                  </li>
                </ul>
                <img src="BFS/BFS4.PNG">
                <img src="BFS/BFS5.PNG">
                <img src="BFS/BFS6.PNG">
                <b>Ejemplo:</b>
                <video width="400" height="300" controls>
                  <source src="BFS/BFS.mp4" type="video/mp4">
                </video>
              </div>
            </div>
            <div class="modal-footer">
              <button id="btn-goDFS" class="option">&#8672;</button>
              <button id="btn-goBFS" class="option">&#8674;</button>
              <button class="option btn-generic" data-dismiss="modal">Aceptar</button>
            </div>
          </div>
        </div>
      </div>

    <!--CONTENIDO DEL SITIO-->
    <h1>Visualización de DFS y BFS</h1>
    <h3>Generación aleatoria de un laberinto y su solución</h3>
    <div class="navigation">
      <div class="row group-frame">
        <div class="col-md-2">
          <label for="mazeRows"><b>Filas</b></label>
          <input id="mazeRows" type="number" min="2" max="30" required value="4"/>
        </div>
        <div class="col-md-2">
          <label for="mazeCols"><b>Columnas</b></label>
          <input id="mazeCols" type="number" min="2" max="30" required value="4"/>
        </div>
        <div class="col-md-4">
          <div class="pseudo-label"><b>Casilla inicial (x, y)</b></div>
          <input id="xBegin" class="x-or-y" type="number" min="0" max="30" placeholder="X" required value="1"/>
          <input id="yBegin" class="x-or-y" type="number" min="0" max="30" placeholder="Y" required value="1"/>
        </div>
        <div class="col-md-4">
          <div class="pseudo-label"><b>Casilla final (x, y)</b></div>
          <input id="xEnd" class="x-or-y" type="number" min="0" max="30" placeholder="X" required value="4"/>
          <input id="yEnd" class="x-or-y" type="number" min="0" max="30" placeholder="Y" required value="4"/>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <button class="option btn-generic" data-toggle="modal" data-target="#tutorialModal">¿Qué estoy viendo?</button>
        </div>
        <div class="col-md-6">
          <button class="option btn-generic" id="btn-start" data-toggle="modal">Iniciar algoritmo</button>
        </div>
        <div class="col-md-6">
          <label for="speed">Velocidad</label>
          <input id="speed" type="range" min="9" max="2000" required value="10"/>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <div id="canvas-container"></div>
      </div>
      <div class="col-md-6">
        <label for="message-container">Monitor de pasos:</label>
        <div id="message-container"></div>
      </div>
    </div>
      
      <!--Dependencias JS-->
    <script src="./js/p5.min.js"></script>
    <script src="./js/p5.dom.min.js"></script>
    <script src="./js/jquery-3.3.1.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/bootstrap.bundle.min.js"></script>
    <script src="./js/Cell.js"></script>
    <script src="./js/Grid.js"></script>
    <script src="./js/Maze.js"></script>
    <script src="./js/main.js"></script>
  </body>
</html>
